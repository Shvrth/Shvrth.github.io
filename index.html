class Solution {
public:
    bool canBeValid(string s, string locked) {
        int n = s.length();
        if(n % 2 == 1)return false;
       

        stack<int> unl;
        stack<int> cl;


        for(int i = 0; i < n; i++)
        {
            if(locked[i] == 0)
                unl.push(i);
            else if(s[i] == '(')
                cl.push(i);
            else if(s[i] == ')')
            {
                if(!cl.empty())
                    cl.pop();
                else if(!unl.empty())
                    unl.pop();
                else {
                        cout << "a" << endl;
                    //return false;
                }
            }
        }

        while(!cl.empty() && !unl.empty() && cl.top() < unl.top()){
                cl.pop();
                unl.pop();
            
        }

        if(cl.empty() && !unl.empty()){
            cout << "b" << endl;
            return (unl.size() % 2 == 0);
        }

        cout << "c" << endl;
        return cl.empty();



    }
};
